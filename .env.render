# Configuration pour Render.com - n8n MCP Server
# Ce fichier contient les variables d'environnement par d√©faut pour Render.com

# =========================
# SERVER CONFIGURATION
# =========================
# Port will be set by Render.com automatically via $PORT
NODE_ENV=production
HOST=0.0.0.0
LOG_LEVEL=info

# =========================
# CORS CONFIGURATION
# =========================
# Allow all origins for public API access
CORS_ORIGIN=*

# =========================
# PROXY CONFIGURATION
# =========================
# Render.com uses a proxy, so trust it for correct IP logging
TRUST_PROXY=1

# =========================
# MCP SERVER CONFIGURATION
# =========================
MCP_SERVER_NAME=n8n-mcp-render
MCP_SERVER_VERSION=2.10.8

# =========================
# N8N COMPATIBILITY MODE
# =========================
# Enable strict schema compatibility for n8n's MCP Client Tool
# This mode adds additionalProperties: false to all tool schemas
# to work around n8n's LangChain schema validation
# Default: false (standard mode)
N8N_COMPATIBILITY_MODE=false

# =========================
# N8N API CONFIGURATION
# =========================
# Optional: Connect to your n8n instance for workflow management
# N8N_API_BASE_URL=https://your-n8n-instance.com/api/v1
# N8N_API_KEY=your-n8n-api-key

# =========================
# DATABASE CONFIGURATION
# =========================
# Path to the nodes database file (relative to project root)
# Default: data/nodes.db (included in container)
# NODE_DB_PATH=data/nodes.db

# =========================
# AUTHENTICATION
# =========================
# Security token for API access - MUST be set in Render.com environment
# Generate a secure token: openssl rand -hex 32
# Set this in Render.com dashboard as an environment variable
# AUTH_TOKEN=your-secure-token-here

# Alternative: Read token from file (for Docker secrets)
# AUTH_TOKEN_FILE=/run/secrets/auth_token

# Custom auth header name (optional)
# AUTH_HEADER_NAME=x-auth-token

# =========================
# RENDER.COM SPECIFIC
# =========================
# These are automatically set by Render.com
# RENDER=true
# RENDER_SERVICE_ID=srv-xxxxx
# RENDER_SERVICE_NAME=n8n-mcp-server
# RENDER_INSTANCE_ID=xxx-xxxx-xxx

# =========================
# PERFORMANCE SETTINGS
# =========================
# Node.js memory settings for Render.com
NODE_OPTIONS=--max-old-space-size=512

# =========================
# FEATURE FLAGS
# =========================
# Enable/disable specific features
ENABLE_WORKFLOW_TEMPLATES=true
ENABLE_NODE_ESSENTIALS=true
ENABLE_TASK_TEMPLATES=true